(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},118:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(7),o=a.n(s),i=(a(56),a(9)),r=a(10),c=a(12),u=a(11),m=a(13),h=(a(58),function(e){return l.a.createElement("nav",{class:"navbar navbar-light bg-light"},l.a.createElement("a",{class:"navbar-logo",href:"/"},l.a.createElement("div",{width:"",height:"30",alt:""})),l.a.createElement("a",{class:"navbar-brand",href:"/"},"SoundUp"),l.a.createElement("ul",null,l.a.createElement("li",{className:"nav-item"})))}),d=(a(60),function(e){return l.a.createElement("footer",{class:"footer font-small black fixed-bottom"},l.a.createElement("div",{class:"footer-copyright text-center"},"\xa9 2018 Copyright:"))}),f=function(e){return l.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e))},p=function(e){return l.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e))},y=(a(62),function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return l.a.createElement("div",Object.assign({className:t},e))}),g=(a(64),function(e){return l.a.createElement("button",{type:"button",class:"btn peach-gradient btn-lg",onClick:e.onClick,center:!0},e.children)}),v=a(27),E=a(49),b=a(44),k=a.n(b),N=(a(110),function(e){return l.a.createElement("div",{className:"header"},l.a.createElement(E.a,{className:"text-center jumbotron"},l.a.createElement("h1",{className:"display-3"},"Let the music flow"),l.a.createElement("p",{className:"intro-title"},"Your playlist. Your people. Your"," ",l.a.createElement(k.a,{springConfig:{stiffness:300,damping:10,speed:170},children:["party","hangout","restaurant","business","event"]}),".")))}),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1},a.onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){this.state.open;return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement("div",null,l.a.createElement(f,{className:"body-container",fluid:"true",style:{marginTop:10}},l.a.createElement(p,null,l.a.createElement(y,{size:"md-5"},l.a.createElement("div",{className:"action-panel"},l.a.createElement("a",{href:"https://salty-chamber-18605.herokuapp.com/login"},l.a.createElement(g,{onClick:this.onOpenModal,center:!0},"Launch a room")),l.a.createElement("h5",null,"Create a room in seconds"),l.a.createElement("ul",null,l.a.createElement("li",null,"#1) Login with your Spotify account"),l.a.createElement("li",null,"#2) Name your room and choose a master playlist"),l.a.createElement("li",null,"#3) Share your room & let the people vote on the next song")))),l.a.createElement(y,{size:"md-1"}),l.a.createElement(y,{size:"md-6"},l.a.createElement("div",{className:"info-panel"},l.a.createElement("h4",{class:"featurette-heading"},"Listen together. Vote on the next song. Give every listener a voice."),l.a.createElement("p",{class:"lead"},"Take your listening to the next level. Let the group or crowd easily participate in shaping your playlist. Throw a better party, please your customers or have more fun in the car with your friends.")))))))}}]),t}(n.Component),P=a(8),C=(a(112),function(e){return l.a.createElement("button",{type:"button",class:"playlistChoice btn peach-gradient btn-lg",onClick:e.onClick,center:!0},e.children,l.a.createElement("p",null,e.name))}),O=(a(114),function(e){return l.a.createElement("button",{type:"button",class:"songChoice btn blue-gradient btn-lg",onClick:e.onClick,center:!0},e.name," by ",e.artist)}),S=a(46),j=a.n(S),T=(a(116),function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return l.a.createElement(y,{size:"md-6"},l.a.createElement("div",{className:"options-panel"},l.a.createElement("h5",null,e.name),l.a.createElement("div",Object.assign({className:t+"options-panel"},e))))}),M=(a(118),function(e){return l.a.createElement("div",{className:"now-playing"},l.a.createElement("h6",null,"Playing Now: ",e.name," by ",e.artist),l.a.createElement("img",{src:e.src,style:{width:150}}))}),A=a(47),x=a.n(A),_=(a(138),new j.a),R=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.getRandom=function(e,t){var n=new Array(t),l=e.length,s=new Array(l);if(t>l)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var o=Math.floor(Math.random()*l);n[t]=e[o in s?s[o]:o],s[o]=--l in s?s[l]:l}a.setState({voteOptions:n}),console.log("randomized songs!",n)};var n=a.getHashParams();return a.state={loggedIn:!!n.access_token,sessionName:"",open:!0,userPlaylists:[],activePlaylist:"05V9ZNCIMJfDhmYY6KhfUu",activePlaylistTracks:[],shuffledPlaylistTracks:[],voteOptions:[],nowPlaying:{name:"",image:""},user:{spotify_id:"",db_id:""}},n.access_token&&_.setAccessToken(n.access_token),a.handleChange=a.handleChange.bind(Object(P.a)(Object(P.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(P.a)(Object(P.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState({sessionName:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.sessionName)}},{key:"checkState",value:function(){console.log(this.state)}},{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"getNowPlaying",value:function(){var e=this;_.getMyCurrentPlaybackState().then(function(t){console.log("NOW PLAYING DATA: ",t),console.log("Now playing: ",t),e.state.nowPlaying&&e.setState({nowPlaying:{name:t.item.name,artist:t.item.artists[0].name,image:t.item.album.images[0].url}})})}},{key:"getUserPlaylists",value:function(){var e=this;_.getUserPlaylists().then(function(t){e.setState({userPlaylists:t.items}),console.log("Playlists returned: ",t)})}},{key:"getPlaylistTracks",value:function(){var e=this,t=this.state.activePlaylist,a=this.state.spotify_id;_.getPlaylistTracks(a,t).then(function(t){t.items;e.setState({activePlaylistTracks:t.items})})}},{key:"setActiveUser",value:function(){var e=this;_.getMe().then(function(t){e.setState({user:{spotify_id:t.id}})},function(e){console.log("Something went wrong!",e)})}},{key:"setActivePlaylistDetails",value:function(){var e=this,t=this.state.activePlaylist,a=this.state.spotify_id;this.state.activePlaylistTracks;console.log("Clicked on playlist"),_.getPlaylistTracks(a,t).then(function(t){e.setState({activePlaylistTracks:t.items}),console.log("Tracks returned: ",t)})}},{key:"createNewSession",value:function(){return x.a.post("/session",{spotify_id:this.state.user.spotify_id,sessionName:this.state.sessionName,current_playlist_id:""}).then(function(e){console.log("response from POSTING new Session: ",e)}).catch(function(e){return console.log("from room.js...",e)})}},{key:"componentDidMount",value:function(){this.getUserPlaylists(),this.setActiveUser(),this.getNowPlaying()}},{key:"render",value:function(){var e=this,t=this.state.open;return l.a.createElement("div",null,l.a.createElement("h4",{className:"sessionName"},"Current Room:",l.a.createElement("br",null)," ",this.state.sessionName),l.a.createElement(M,{name:this.state.nowPlaying.name,artist:this.state.nowPlaying.artist,src:this.state.nowPlaying.image,style:{width:50}}),l.a.createElement("button",{className:"createSession",onClick:function(){return e.getRandom(e.state.activePlaylistTracks,6)+e.createNewSession()}},"Launch your room to let the people vote!"),l.a.createElement("p",{className:"instructions"},"Choose your playlist, then click above to generate your shareable URL"),l.a.createElement(f,{fluid:"false",className:"body-container",style:{marginTop:20}},l.a.createElement(p,null,l.a.createElement(T,{size:"md-12",name:"Pick Your Master Playlist"},this.state.userPlaylists.map(function(t){return l.a.createElement(C,{onClick:function(){return e.setActivePlaylistDetails()+e.checkState()},key:t.id,name:t.name,setActive:e.setActivePlaylistDetails,id:t.id})})),l.a.createElement(T,{size:"md-12",name:"Vote Options for Next Song"},this.state.voteOptions.map(function(e){return l.a.createElement(O,{key:e.track.id,name:e.track.name,artist:e.track.artists[0].name,id:e.id})}))),l.a.createElement(p,null,l.a.createElement(v.a,{open:t,onClose:this.onCloseModal,center:!0},l.a.createElement("br",null),l.a.createElement("h7",{className:"currentRoom"},"Name your room"),l.a.createElement("form",{className:"mainForm"},l.a.createElement("div",{className:"logo-transparent"}),l.a.createElement("p",{className:"form-brand-name"},"SoundUp"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{value:this.state.value,onChange:this.handleChange,type:"text",className:"form-control",id:"room-name","aria-describedby":"room-name",placeholder:"Name your room",required:!0})),l.a.createElement("br",null)),l.a.createElement("button",{onClick:function(){return e.onCloseModal()}},"Rock on")))))}}]),t}(n.Component),U=(a(140),a(144)),z=a(146),L=a(145),I=function(){return l.a.createElement("div",null,l.a.createElement("h1",{className:"display-4"}," 404 Page Not Found "),l.a.createElement("p",{className:"lead"}," Sorry, that page does not exist "))},Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,sessionName:""},a.onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.onInputChange=function(e){a.setState({sessionName:e.target.value})},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(U.a,null,l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement(z.a,null,l.a.createElement(L.a,{exact:!0,path:"/",component:w}),l.a.createElement(L.a,{exact:!0,path:"/Room",component:R}),l.a.createElement(L.a,{component:I})),l.a.createElement(d,null))))}}]),t}(n.Component);o.a.render(l.a.createElement(U.a,null,l.a.createElement(Y,null)),document.getElementById("root"))},51:function(e,t,a){e.exports=a(143)},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){}},[[51,2,1]]]);
//# sourceMappingURL=main.82ad78e8.chunk.js.map